<?xml version="1.0" encoding="UTF-8"?>
<web-app version="3.1" xmlns="http://xmlns.jcp.org/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd">
    <!-- PARAMETRI DA CONFIGURARE -->
    <context-param>
        <param-name>dburl</param-name>
        <param-value>jdbc:derby://localhost:1527/db1</param-value>
    </context-param>
    <context-param>
        <param-name>user</param-name>
        <param-value>progettoTNadvisor</param-value>
    </context-param>
    <context-param>
        <param-name>password</param-name>
        <param-value>bRjhdsoR56ve</param-value>
    </context-param>
    <context-param>
        <param-name>completePath</param-name>
        <param-value>/Users/lucadiliello/Desktop/Progetti/Programmazione_web/tripTNadvisor</param-value>
    </context-param>
    <!-- FINE PARAMETRI DA CONFIGURARE -->
    <!-- inizializzatori -->
    <filter>
        <filter-name>FilterUser</filter-name>
        <filter-class>Filters.FilterUser</filter-class>
    </filter>
    <filter>
        <filter-name>FilterRist</filter-name>
        <filter-class>Filters.FilterRist</filter-class>
    </filter>
    <filter>
        <filter-name>FilterAdmin</filter-name>
        <filter-class>Filters.FilterAdmin</filter-class>
    </filter>
    <filter>
        <filter-name>LanguageFilter</filter-name>
        <filter-class>Filters.LanguageFilter</filter-class>
    </filter>
    <filter>
        <filter-name>FilterServer</filter-name>
        <filter-class>Filters.FilterServer</filter-class>
    </filter>
    <filter-mapping>
        <filter-name>FilterServer</filter-name>
        <url-pattern>/META-INF</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
        <dispatcher>INCLUDE</dispatcher>
        <dispatcher>ERROR</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>LanguageFilter</filter-name>
        <url-pattern>/*</url-pattern>
    </filter-mapping>
    <filter-mapping>
        <filter-name>FilterAdmin</filter-name>
        <url-pattern>/privateAdministrator/*</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
        <dispatcher>INCLUDE</dispatcher>
        <dispatcher>ERROR</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>FilterUser</filter-name>
        <url-pattern>/private/*</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
        <dispatcher>INCLUDE</dispatcher>
        <dispatcher>ERROR</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>FilterRist</filter-name>
        <url-pattern>/privateRistorante/*</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
        <dispatcher>INCLUDE</dispatcher>
        <dispatcher>ERROR</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>FilterUser</filter-name>
        <url-pattern>/WEB-INF/*</url-pattern>
        <url-pattern>/META-INF/*</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
        <dispatcher>INCLUDE</dispatcher>
        <dispatcher>ERROR</dispatcher>
    </filter-mapping>
    <listener>
        <listener-class>Listener.WebAppContextListener</listener-class>
    </listener>
    <context-param>
        <param-name>defaultFolder</param-name>
        <param-value>/defaultItem</param-value>
    </context-param>
    <context-param>
        <param-name>javax.servlet.jsp.jstl.fmt.localizationContext</param-name>
        <param-value>Resources.string</param-value>
    </context-param>
    <welcome-file-list>
        <welcome-file>HomeServlet</welcome-file>
    </welcome-file-list>
    <!-- Servlet -->
    <servlet>
        <servlet-name>ConfigurazioneProfilo</servlet-name>
        <servlet-class>Servlet.ConfigurazioneProfilo</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>ConfirmServlet</servlet-name>
        <servlet-class>Servlet.ConfirmServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>HomeServlet</servlet-name>
        <servlet-class>Servlet.HomeServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>LoginServlet</servlet-name>
        <servlet-class>Servlet.LoginServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>LogoutServlet</servlet-name>
        <servlet-class>Servlet.LogoutServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>ModificaProfiloServlet</servlet-name>
        <servlet-class>Servlet.ModificaProfiloServlet</servlet-class>
        <init-param>
            <param-name>
                uploadDir
            </param-name>
            <param-value>
                /fotoUtenti
            </param-value>
        </init-param>
    </servlet>
    <servlet>
        <servlet-name>RegistrationServlet</servlet-name>
        <servlet-class>Servlet.RegistrationServlet</servlet-class>
    </servlet>
    <!-- Servlet mapping -->
    <servlet>
        <servlet-name>ConfigurazioneAddRistorante</servlet-name>
        <servlet-class>Servlet.ConfigurazioneAddRistorante</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>AddRistorante</servlet-name>
        <servlet-class>Servlet.AddRistorante</servlet-class>
        <init-param>
            <param-name>
                uploadDir
            </param-name>
            <param-value>
                /fotoRistoranti
            </param-value>
        </init-param>
    </servlet>
    <servlet>
        <servlet-name>SearchServlet</servlet-name>
        <servlet-class>Servlet.SearchServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>ConfigurazioneRistorante</servlet-name>
        <servlet-class>Servlet.ConfigurazioneRistorante</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>ReclamaRistoranteServlet</servlet-name>
        <servlet-class>Servlet.ReclamaRistoranteServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>ConfigurazioneRistoranti</servlet-name>
        <servlet-class>Servlet.ConfigurazioneRistoranti</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>AddFotoServlet</servlet-name>
        <servlet-class>Servlet.AddFotoServlet</servlet-class>
        <init-param>
            <param-name>
                uploadDir
            </param-name>
            <param-value>
                /fotoRistoranti
            </param-value>
        </init-param>
    </servlet>
    <servlet>
        <servlet-name>ModificaRistoranteServlet</servlet-name>
        <servlet-class>Servlet.ModificaRistoranteServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>ConfiguraRecensioniServlet</servlet-name>
        <servlet-class>Servlet.ConfiguraRecensioniServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>InserisciRecensioniServlet</servlet-name>
        <servlet-class>Servlet.InserisciRecensioniServlet</servlet-class>
        <init-param>
            <param-name>
                uploadDir
            </param-name>
            <param-value>
                /fotoRecensioni
            </param-value>
        </init-param>
    </servlet>
    <servlet>
        <servlet-name>InserisciCommentoServlet</servlet-name>
        <servlet-class>Servlet.InserisciCommentoServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>VotaRecensioneServlet</servlet-name>
        <servlet-class>Servlet.VotaRecensioneServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>PreparaClassificaServlet</servlet-name>
        <servlet-class>Servlet.PreparaClassificaServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>VotaRistoranteServlet</servlet-name>
        <servlet-class>Servlet.VotaRistoranteServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>PrepareNotificheServlet</servlet-name>
        <servlet-class>Servlet.PrepareNotificheServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>ApplicaNotificaServlet</servlet-name>
        <servlet-class>Servlet.ApplicaNotificaServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>SegnalaFotoServlet</servlet-name>
        <servlet-class>Servlet.SegnalaFotoServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>ConfigLingua</servlet-name>
        <servlet-class>Servlet.ConfigLingua</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>ConfiguraOrariApertura</servlet-name>
        <servlet-class>Servlet.ConfiguraOrariApertura</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>LoadRistoranteServlet</servlet-name>
        <servlet-class>Servlet.LoadRistoranteServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>CambiaOrariServlet</servlet-name>
        <servlet-class>Servlet.CambiaOrariServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>LoadRistoranteFotoServlet</servlet-name>
        <servlet-class>Servlet.LoadRistoranteFotoServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>GetMapsData</servlet-name>
        <servlet-class>Servlet.GetMapsData</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>NuovaPassword</servlet-name>
        <servlet-class>Servlet.NuovaPassword</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>PrivacyServlet</servlet-name>
        <servlet-class>Servlet.PrivacyServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>ConfigurazioneProfilo</servlet-name>
        <url-pattern>/private/ConfigurazioneProfilo</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>ConfirmServlet</servlet-name>
        <url-pattern>/ConfirmServlet</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>HomeServlet</servlet-name>
        <url-pattern>/HomeServlet</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>LoginServlet</servlet-name>
        <url-pattern>/LoginServlet</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>LogoutServlet</servlet-name>
        <url-pattern>/private/LogoutServlet</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>ModificaProfiloServlet</servlet-name>
        <url-pattern>/private/ModificaProfiloServlet</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>RegistrationServlet</servlet-name>
        <url-pattern>/RegistrationServlet</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>ConfigurazioneAddRistorante</servlet-name>
        <url-pattern>/private/ConfigurazioneAddRistorante</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>AddRistorante</servlet-name>
        <url-pattern>/private/AddRistorante</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>SearchServlet</servlet-name>
        <url-pattern>/SearchServlet</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>ConfigurazioneRistorante</servlet-name>
        <url-pattern>/ConfigurazioneRistorante</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>ReclamaRistoranteServlet</servlet-name>
        <url-pattern>/private/ReclamaRistoranteServlet</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>AddFotoServlet</servlet-name>
        <url-pattern>/private/AddFotoServlet</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>ConfiguraRecensioniServlet</servlet-name>
        <url-pattern>/private/ConfiguraRecensioniServlet</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>InserisciRecensioniServlet</servlet-name>
        <url-pattern>/private/InserisciRecensioniServlet</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>InserisciCommentoServlet</servlet-name>
        <url-pattern>/private/InserisciCommentoServlet</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>VotaRecensioneServlet</servlet-name>
        <url-pattern>/private/VotaRecensioneServlet</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>PreparaClassificaServlet</servlet-name>
        <url-pattern>/PreparaClassificaServlet</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>VotaRistoranteServlet</servlet-name>
        <url-pattern>/private/VotaRistoranteServlet</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>PrepareNotificheServlet</servlet-name>
        <url-pattern>/private/PrepareNotificheServlet</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>ConfigLingua</servlet-name>
        <url-pattern>/ConfigLingua</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>LoadRistoranteServlet</servlet-name>
        <url-pattern>/private/LoadRistoranteServlet</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>LoadRistoranteFotoServlet</servlet-name>
        <url-pattern>/private/LoadRistoranteFotoServlet</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>ConfigurazioneRistoranti</servlet-name>
        <url-pattern>/privateRistoratore/ConfigurazioneRistoranti</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>ModificaRistoranteServlet</servlet-name>
        <url-pattern>/privateRistoratore/ModificaRistoranteServlet</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>SegnalaFotoServlet</servlet-name>
        <url-pattern>/privateRistoratore/SegnalaFotoServlet</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>CambiaOrariServlet</servlet-name>
        <url-pattern>/privateRistoratore/CambiaOrariServlet</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>ConfiguraOrariApertura</servlet-name>
        <url-pattern>/privateRistoratore/ConfiguraOrariApertura</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>ApplicaNotificaServlet</servlet-name>
        <url-pattern>/privateAdministrator/ApplicaNotificaServlet</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>GetMapsData</servlet-name>
        <url-pattern>/GetMapsData</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>NuovaPassword</servlet-name>
        <url-pattern>/NuovaPassword</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>PrivacyServlet</servlet-name>
        <url-pattern>/PrivacyServlet</url-pattern>
    </servlet-mapping>
    <session-config>
        <session-timeout>
            30
        </session-timeout>
    </session-config>
    <error-page>
        <error-code>500</error-code>
        <location>/error.jsp</location>
    </error-page>
    <error-page>
        <error-code>404</error-code>
        <location>/notFound.jsp</location>
    </error-page>
    <error-page>
        <error-code>400</error-code>
        <location>/error.jsp</location>
    </error-page>
    <error-page>
        <error-code>403</error-code>
        <location>/error.jsp</location>
    </error-page>
    <error-page>
        <error-code>501</error-code>
        <location>/notFound.jsp</location>
    </error-page>
    <error-page>
        <error-code>504</error-code>
        <location>/notFound.jsp</location>
    </error-page>
    <login-config>
        <auth-method>FORM</auth-method>
        <form-login-config>
            <form-login-page>/login.jsp</form-login-page>
            <form-error-page>/error.jsp</form-error-page>
        </form-login-config>
    </login-config>
</web-app>
